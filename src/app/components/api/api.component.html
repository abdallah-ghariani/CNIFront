<div class="p-4">
    <div class="mb-4 flex justify-between items-center">
      
    </div>
    <p-table
      [value]="apis()"
      [paginator]="true"
      [rows]="5"
      [loading]="loading"
      [totalRecords]="total"
      (onLazyLoad)="loadApis($event)"
      [lazy]="true"
      [rowsPerPageOptions]="[5, 10, 20]"
    >
    <ng-template #caption>
      <h1 class="text-2xl font-bold">API</h1>
      <div class="flex items-center">
        <input
          pInputText
          type="text"
          placeholder="Rechercher..."
          class="p-2 border rounded mr-2"
          (input)="onGlobalFilter($event)"
        />
        <button
          pButton
          label="Rechercher"
          class="p-button-primary"
          (click)="onSearch()"
        ></button>
        </div>
    </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Secteur</th>
          <th>Structure</th>
          <th>Availability</th>
          <th>Updated At</th>
          <th>Description</th>
        </tr>
        <tr>
          <th></th>
          <th></th>
          <th>
            <p-columnFilter
            field="structure"
            matchMode="equals"
            [showMenu]="false"
            placeholder="Toutes les structures"
            class="mr-2"
          >
            <ng-template #filter let-value let-filter="filterCallback">
              <p-dropdown
                [ngModel]="value"
                [options]="structures"
                (onChange)="filter($event.value)"
                placeholder="Toutes les structures"
                [showClear]="true"
                class="w-64"
              />
            </ng-template>
          </p-columnFilter>
          </th>
          <th>
          <p-columnFilter
            field="availability"
            matchMode="equals"
            [showMenu]="false"
            placeholder="Toutes les modalités d'accès"
          >
            <ng-template #filter let-value let-filter="filterCallback">
              <p-dropdown
                [ngModel]="value"
                [options]="availabilities"
                (onChange)="filter($event.value)"
                placeholder="Toutes les modalités d'accès"
                [showClear]="true"
                class="w-64"
              />
            </ng-template>
          </p-columnFilter>
          </th>
          <th></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-api>
        <tr>
          <td>{{ api.name }}</td>
          <td>{{ api.secteur }}</td>
          <td>{{ api.structure }}</td>
          <td>{{ api.availability }}%</td>
          <td>{{ api.updatedAt }}</td>
          <td>{{ api.description }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>